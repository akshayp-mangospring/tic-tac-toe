const b=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&t(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(e){if(e.ep)return;e.ep=!0;const o=a(e);fetch(e.href,o)}};b();const p=Object.freeze({marker:"o",struct:'<div class="marker o-marker"></div>',name:"Pink"}),i=Object.freeze({marker:"x",struct:'<div class="marker x-marker"></div>',name:"Blue"}),v=Object.freeze({ONLINE_PLAYER:"online_player",OFFLINE_COMPUTER:"offline_computer",OFFLINE_PLAYERS:"offline_players"}),l=r=>new DOMParser().parseFromString(r,"text/html").body.firstElementChild,f=()=>window.location.reload(),c=r=>{setTimeout(()=>{f()},r)},k=()=>Object.freeze([[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]),w=r=>{switch(r){case 1:return"won-horizontal";case 2:return"won-clock-diagonal";case 3:return"won-vertical";case 4:return"won-anticlock-diagonal";default:return""}},y=(r,{marker:s})=>{const a=k();for(let t=0;t<a.length;t+=1){const e=a[t];if(e.every(o=>r[o]===s))return{hasWon:!0,winCombo:e}}return{hasWon:!1,winCombo:null}},z=r=>{const s=document.getElementsByClassName("cell"),a=r[1]-r[0],t=w(a);r.forEach(e=>{s[e].classList.add(t)})},x=()=>{const a=Array(9).fill(null);let t=0;return Object.freeze({getCells:()=>a,setCell:(e,o)=>{a[e]=o,t+=1},shouldComputeWinner:()=>t>Math.floor(9/2),isBoardFilled:()=>t===9})},E=()=>{const r=x(),s=document.getElementById("game-board"),a=document.getElementById("success-pop");let t=i;a.addEventListener("click",()=>{f()}),s.addEventListener("click",e=>{const o=e.target,{name:n,marker:u,struct:m}=t;if(!(o.classList.contains("filled-in")||!o.classList.contains("cell"))){if(o.appendChild(l(m)),r.setCell(Array.prototype.indexOf.call(o.parentNode.children,o),u),o.classList.add("filled-in"),r.shouldComputeWinner()){const{hasWon:g,winCombo:h}=y(r.getCells(),t);if(g){z(h),a.style.display="flex",a.appendChild(l(`<h1 class="game-status-text">${n} has Won the Game!</h1>`)),c(5e3);return}}t===i?t=p:t=i,r.isBoardFilled()&&(a.classList.add("game-tied"),a.appendChild(l(`<h1 class="game-status-text">It's a tie! Play again!!</h1>`)),c(2e3))}})},{ONLINE_PLAYER:L,OFFLINE_COMPUTER:O,OFFLINE_PLAYERS:d}=v,C=(r=d)=>{switch(r){case L:break;case O:break;case d:E();break;default:console.info("NEED A MODE TO PLAY.");break}};document.addEventListener("DOMContentLoaded",()=>{C()});
