const I=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}};I();const k=Object.freeze({marker:"o",struct:'<div class="marker o-marker"></div>',name:"Pink"}),d=Object.freeze({marker:"x",struct:'<div class="marker x-marker"></div>',name:"Blue"}),L=Object.freeze({ONLINE_PLAYER:"online_player",OFFLINE_COMPUTER:"offline_computer",OFFLINE_PLAYERS:"offline_players"}),O=Object.freeze({EASY:"easy",HARD:"hard"}),N="It's a tie! Play again!!",M=`<h1 class="game-status-text">${N}</h1>`,v=e=>new DOMParser().parseFromString(e,"text/html").body.firstElementChild,h=()=>window.location.reload(),C=e=>{setTimeout(()=>{h()},e)},P=(e,r)=>{const t=[];for(let a=0;a<e.length;a+=1)e[a]===r&&t.push(a);return t},A=(e,r)=>{const t=Math.ceil(e),a=Math.floor(r);return Math.floor(Math.random()*(a-t+1))+t},F=()=>Object.freeze([[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]),B=e=>{switch(e){case 1:return"won-horizontal";case 2:return"won-clock-diagonal";case 3:return"won-vertical";case 4:return"won-anticlock-diagonal";default:return""}},R=(e,{marker:r})=>{const t=F();let a={hasWon:!1,winCombo:null};for(let o=0;o<t.length;o+=1){const n=t[o];if(n.every(s=>e[s]===r)){a={hasWon:!0,winCombo:n};break}}return a},W=e=>{const r=document.getElementsByClassName("cell"),t=e[1]-e[0],a=B(t);e.forEach(o=>{r[o].classList.add(a)})},w=()=>{const t=Array(9).fill(null);let a=0;return Object.freeze({getCells:()=>t,setCell:(o,n)=>{t[o]=n,a+=1},shouldComputeWinner:()=>a>=3*2-1,isBoardFilled:()=>a===9})},y=(e,r)=>e.isBoardFilled()?(r.classList.add("game-tied"),r.appendChild(v(M)),C(2e3),!0):!1,u=(e,r,t)=>{if(e.shouldComputeWinner()){const{name:a}=t,{hasWon:o,winCombo:n}=R(e.getCells(),t);if(o)return W(n),r.style.display="flex",r.appendChild(v(`<h1 class="game-status-text">${a} has Won the Game!</h1>`)),C(5e3),!0}return!1},m=(e,r,t,a)=>{r.setCell(Array.prototype.indexOf.call(e.parentNode.children,e),t),e.appendChild(v(a)),e.classList.add("filled-in")},E=e=>e.classList.contains("filled-in")||!e.classList.contains("cell"),T=()=>{const e=w(),r=document.getElementById("game-board"),t=document.getElementById("success-pop"),a=d,o=k;t.addEventListener("click",()=>{h()}),r.addEventListener("click",n=>{const s=n.target,{marker:c,struct:l}=a,{marker:p,struct:b}=o;if(E(s)||(m(s,e,c,l),u(e,t,a))||y(e,t))return;const f=P(e.getCells(),null),g=f[A(0,f.length-1)];m(s.parentNode.children[g],e,p,b),u(e,t,o)})},_=()=>{const e=w(),r=document.getElementById("game-board"),t=document.getElementById("success-pop"),a=d,o=k,n=s=>{console.log(s);for(let c=0;c<s.length;c+=1){const l=s[c];console.log(l)}return s[0]};t.addEventListener("click",()=>{h()}),r.addEventListener("click",s=>{const c=s.target,{marker:l,struct:p}=a,{marker:b,struct:f}=o;if(E(c)||(m(c,e,l,p),u(e,t,a))||y(e,t))return;const g=P(e.getCells(),null),S=g[n(g)];m(c.parentNode.children[S],e,b,f),u(e,t,o)})},Y=()=>{const e=w(),r=document.getElementById("game-board"),t=document.getElementById("success-pop");let a=d;t.addEventListener("click",()=>{h()}),r.addEventListener("click",o=>{const n=o.target,{marker:s,struct:c}=a;E(n)||(m(n,e,s,c),!u(e,t,a)&&(a=a===d?k:d,y(e,t)))})},{ONLINE_PLAYER:D,OFFLINE_COMPUTER:j,OFFLINE_PLAYERS:z}=L,{EASY:x,HARD:$}=O,i=({mode:e=z,level:r=x})=>{switch(e){case D:break;case j:r===x?T():r===$&&_();break;case z:Y();break;default:console.info("NEED A MODE TO PLAY.");break}};document.addEventListener("DOMContentLoaded",()=>{const{ONLINE_PLAYER:e,OFFLINE_COMPUTER:r,OFFLINE_PLAYERS:t}=L,{EASY:a,HARD:o}=O;switch(window.location.search){case`${e}=true`:i({mode:e});break;case`${r}=true`:i({mode:r,level:a});break;case`${r}=true&level=${o}`:i({mode:r,level:o});break;case`${t}=true`:i({mode:t});break;default:i({mode:r,level:o});break}});
