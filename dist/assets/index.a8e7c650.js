const g=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const e of r)if(e.type==="childList")for(const n of e.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function o(r){const e={};return r.integrity&&(e.integrity=r.integrity),r.referrerpolicy&&(e.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?e.credentials="include":r.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(r){if(r.ep)return;r.ep=!0;const e=o(r);fetch(r.href,e)}};g();const b=Object.freeze({marker:"o",struct:'<div class="marker o-marker"></div>',name:"Pink"}),i=Object.freeze({marker:"x",struct:'<div class="marker x-marker"></div>',name:"Blue"}),h=Object.freeze({ONLINE_PLAYER:"online_player",OFFLINE_COMPUTER:"offline_computer",OFFLINE_PLAYERS:"offline_players"}),c=t=>new DOMParser().parseFromString(t,"text/html").body.firstElementChild,u=()=>window.location.reload(),d=t=>{setTimeout(()=>{u()},t)},y=()=>Object.freeze([[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]),v=(t,{marker:s})=>{const o=y();for(let a=0;a<o.length;a+=1){const r=o[a];let e=0;for(let n=0;n<r.length;n+=1){const l=r[n];if(t[l]!==s)break;e+=1}if(e===3)return!0}return!1},k=()=>{const t=Array(9).fill(null);return Object.freeze({getCells:()=>t,setCell:(s,o)=>{t[s]=o}})},x=()=>{const t=k(),s=document.getElementById("game-board"),o=document.getElementById("success-pop");let a=i;o.addEventListener("click",()=>{u()}),s.addEventListener("click",r=>{const e=r.target,{name:n,marker:l,struct:f}=a;if(!(e.classList.contains("filled-in")||!e.classList.contains("cell"))){if(e.appendChild(c(f)),t.setCell(Array.prototype.indexOf.call(e.parentNode.children,e),l),e.classList.add("filled-in"),v(t.getCells(),a)){o.style.display="flex",o.appendChild(c(`<h1 class="game-status-text">${n} has Won the Game!</h1>`)),d(5e3);return}a===i?a=b:a=i,t.getCells().every(p=>p!==null)&&(o.classList.add("game-tied"),o.appendChild(c(`<h1 class="game-status-text">It's a tie! Play again!!</h1>`)),d(2e3))}})},{ONLINE_PLAYER:z,OFFLINE_COMPUTER:w,OFFLINE_PLAYERS:m}=h,L=(t=m)=>{switch(t){case z:break;case w:break;case m:x();break;default:console.info("NEED A MODE TO PLAY.");break}};document.addEventListener("DOMContentLoaded",()=>{L()});
