const b=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function t(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(e){if(e.ep)return;e.ep=!0;const r=t(e);fetch(e.href,r)}};b();const k=Object.freeze({marker:"o",struct:'<div class="marker o-marker"></div>',name:"Pink"}),l=Object.freeze({marker:"x",struct:'<div class="marker x-marker"></div>',name:"Blue"}),v=Object.freeze({ONLINE_PLAYER:"online_player",OFFLINE_COMPUTER:"offline_computer",OFFLINE_PLAYERS:"offline_players"}),c=o=>new DOMParser().parseFromString(o,"text/html").body.firstElementChild,m=()=>window.location.reload(),d=o=>{setTimeout(()=>{m()},o)},w=()=>Object.freeze([[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]),y=o=>{switch(o){case 1:return"won-horizontal";case 2:return"won-clock-diagonal";case 3:return"won-vertical";case 4:return"won-anticlock-diagonal";default:return""}},z=(o,{marker:s})=>{const t=w();for(let a=0;a<t.length;a+=1){const e=t[a];let r=0;for(let n=0;n<e.length;n+=1){const i=e[n];if(o[i]!==s)break;r+=1}if(r===3)return{hasWon:!0,winCombo:e}}return{hasWon:!1,winCombo:null}},x=o=>{const s=document.getElementsByClassName("cell"),t=o[1]-o[0],a=y(t);o.forEach(e=>{s[e].classList.add(a)})},E=()=>{const o=Array(9).fill(null);return Object.freeze({getCells:()=>o,setCell:(s,t)=>{o[s]=t}})},L=()=>{const o=E(),s=document.getElementById("game-board"),t=document.getElementById("success-pop");let a=l;t.addEventListener("click",()=>{m()}),s.addEventListener("click",e=>{const r=e.target,{name:n,marker:i,struct:u}=a;if(r.classList.contains("filled-in")||!r.classList.contains("cell"))return;r.appendChild(c(u)),o.setCell(Array.prototype.indexOf.call(r.parentNode.children,r),i),r.classList.add("filled-in");const{hasWon:g,winCombo:h}=z(o.getCells(),a);if(g){x(h),t.style.display="flex",t.appendChild(c(`<h1 class="game-status-text">${n} has Won the Game!</h1>`)),d(5e3);return}a===l?a=k:a=l,o.getCells().every(p=>p!==null)&&(t.classList.add("game-tied"),t.appendChild(c(`<h1 class="game-status-text">It's a tie! Play again!!</h1>`)),d(2e3))})},{ONLINE_PLAYER:O,OFFLINE_COMPUTER:C,OFFLINE_PLAYERS:f}=v,P=(o=f)=>{switch(o){case O:break;case C:break;case f:L();break;default:console.info("NEED A MODE TO PLAY.");break}};document.addEventListener("DOMContentLoaded",()=>{P()});
